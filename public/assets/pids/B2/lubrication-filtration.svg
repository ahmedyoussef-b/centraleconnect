<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg" style="background-color: hsl(var(--card)); border-radius: 0.5rem; border: 1px solid hsl(var(--border));">
    <style>
        .pid-hotspot {
            fill: hsla(var(--primary), 0.05);
            stroke: hsla(var(--primary), 0.4);
            stroke-width: 1;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .pid-hotspot:hover {
            fill: hsla(var(--primary), 0.15);
            stroke: hsla(var(--primary), 0.9);
            stroke-width: 1.5;
        }
        .pid-hotspot.active {
            fill: hsla(var(--destructive), 0.2);
            stroke: hsla(var(--destructive), 1);
            stroke-width: 2;
            animation: pulse 1.5s infinite;
        }
        .equipment-label {
            font-family: sans-serif;
            font-size: 11px;
            fill: hsl(var(--foreground));
            pointer-events: none;
        }
        .placeholder-text {
            font-family: sans-serif;
            font-size: 16px;
            font-weight: bold;
            fill: hsl(var(--muted-foreground));
            text-anchor: middle;
        }
        .line-main { stroke: hsl(var(--foreground)); stroke-width: 4; fill: none; }
        .line-secondary { stroke: hsl(var(--muted-foreground)); stroke-width: 2; fill: none; }

        @keyframes pulse {
            0% { fill: hsla(var(--destructive), 0.2); }
            50% { fill: hsla(var(--destructive), 0.4); }
            100% { fill: hsla(var(--destructive), 0.2); }
        }
    </style>

    <text x="50%" y="40" class="placeholder-text">[SCHÉMA P&amp;ID - PLACEHOLDER FONCTIONNEL]</text>
    <text x="50%" y="60" class="placeholder-text" style="font-size: 12px; font-weight: normal;">Ce SVG est un exemple pour valider l'interactivité. Remplacez-le par votre schéma réel.</text>

    <!-- Groupe principal du système de filtration -->
    <g id="group-lubrication-system">
        <rect 
            class="pid-hotspot"
            data-external-id="B2.LUB.TPF"
            data-parameters="LUB.TEMP,LUB.FILTER.DP"
            x="40" y="90" width="720" height="270" rx="10"
        />
        <text x="50" y="110" class="equipment-label">Système de Lubrification (B2.LUB.TPF)</text>
    </g>

    <!-- Réservoir d'huile -->
    <g id="group-tank">
        <rect 
            class="pid-hotspot"
            data-external-id="B2.LUB.TANK"
            data-parameters="LUB.TEMP"
            x="100" y="150" width="120" height="180" rx="5"
        />
        <text x="110" y="170" class="equipment-label">Réservoir d'Huile</text>
        <text x="110" y="185" class="equipment-label">(B2.LUB.TANK)</text>
    </g>

    <!-- Skid de filtration -->
    <g id="group-filter-skid">
        <rect 
            class="pid-hotspot"
            data-external-id="B2.LUB.FILT.SKID"
            data-parameters="LUB.FILTER.DP"
            x="450" y="150" width="120" height="180" rx="5"
        />
        <text x="460" y="170" class="equipment-label">Skid Filtration</text>
        <text x="460" y="185" class="equipment-label">(B2.LUB.FILT.SKID)</text>
    </g>
    
    <!-- Pompes -->
    <g id="group-pumps">
        <rect 
            class="pid-hotspot"
            data-external-id="B2.LUB.PUMP.MAIN"
            data-parameters="LUB.PRESSURE.IN"
            x="280" y="190" width="100" height="80" rx="40"
        />
        <text x="310" y="225" class="equipment-label">Pompe PPL</text>

        <rect 
            class="pid-hotspot"
            data-external-id="B2.LUB.PUMP.STBY"
            data-parameters=""
            x="280" y="280" width="100" height="80" rx="40"
        />
         <text x="300" y="315" class="equipment-label">Pompe Secours</text>
    </g>
    
    <!-- Tuyauterie (visuelle uniquement) -->
    <path d="M220 230 H 280" class="line-main"/>
    <path d="M380 230 H 450" class="line-main"/>
    <path d="M570 230 H 700" class="line-main"/>
    <path d="M220 320 H 280" class="line-secondary" stroke-dasharray="5,5"/>
    <path d="M380 320 H 450" class="line-secondary" stroke-dasharray="5,5"/>
    <path d="M500 150 V 120" class="line-secondary" />

</svg>
